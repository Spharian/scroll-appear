(function(){var ScrollAppear,bind=function(e,t){return function(){return e.apply(t,arguments)}};this.ScrollAppear=ScrollAppear=function(){function ScrollAppear(e,t){this.selector=e,null==t&&(t={}),this.update=bind(this.update,this),this.onScroll=bind(this.onScroll,this),this.setElements=bind(this.setElements,this),this.ticking=!1,this.defaultToggleClass=t.defaultToggleClass||"hidden",this.setElements(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.setElements)}return ScrollAppear.prototype.setElements=function(){var e,t,l,r,s,n;for(this.elements=[],s=document.querySelectorAll(this.selector),n=[],t=0,l=s.length;t<l;t++)e=s[t],null!==(r=this.getAppearOffset(e.getAttribute("data-appear-offset")))?n.push(this.elements.push({node:e,offset:r,toggleClass:e.getAttribute("data-appear-toggle-class")||this.defaultToggleClass})):n.push(console.warn("Please set a valid data-appear-offset for "+e.outerHTML));return n},ScrollAppear.prototype.getAppearOffset=function(offset){var element,getElement,i,len,operator,parsedOffset,ref,split;if(parsedOffset=parseInt(offset))return parsedOffset;for(getElement=function(e){try{return document.querySelector(e)}catch(e){return null}},ref=["+","-","/","*"],i=0,len=ref.length;i<len;i++)if(operator=ref[i],2===(split=offset.split(operator)).length&&(element=getElement(split[0])))return eval(element.clientHeight+operator+split[1]);return(element=getElement(offset))?element.clientHeight:null},ScrollAppear.prototype.onScroll=function(){if(!this.ticking)return this.requestTick()},ScrollAppear.prototype.requestTick=function(){return requestAnimationFrame(this.update),this.ticking=!0},ScrollAppear.prototype.update=function(){var e,t,l,r;for(this.scrollY=window.pageYOffset,r=this.elements,t=0,l=r.length;t<l;t++)e=r[t],this.toggleAppearClass(e);return this.ticking=!1},ScrollAppear.prototype.toggleAppearClass=function(e){return this.scrollY>=e.offset?e.node.classList.remove(e.toggleClass):e.node.classList.add(e.toggleClass)},ScrollAppear}(),"undefined"!=typeof module&&(module.exports=this.ScrollAppear)}).call(this);