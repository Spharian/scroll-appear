(function(){var ScrollAppear,bind=function(e,t){return function(){return e.apply(t,arguments)}};this.ScrollAppear=ScrollAppear=function(){function ScrollAppear(e,t){this.selector=e,null==t&&(t={}),this.update=bind(this.update,this),this.onScroll=bind(this.onScroll,this),this.setElements=bind(this.setElements,this),this.ticking=!1,this.defaultToggleClass=t.defaultToggleClass||"hidden",this.setElements(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.setElements)}return ScrollAppear.prototype.setElements=function(){var e,t,l,r,s,i;for(this.elements=[],s=document.querySelectorAll(this.selector),i=[],t=0,l=s.length;t<l;t++)if(e=s[t],r=this.getAppearOffset(e.getAttribute("data-appear-offset"))){if(r<0)continue;i.push(this.elements.push({node:e,offset:r,toggleClass:e.getAttribute("data-appear-toggle-class")||this.defaultToggleClass}))}else i.push(console.warn("Please set a valid data-appear-offset for "+e.outerHTML));return i},ScrollAppear.prototype.getAppearOffset=function(value){var elementHeight,i,intOffset,len,operand,operator,ref,split;if(!value)return null;if(intOffset=parseInt(value))return intOffset;for(ref=["+","-","/","*"],i=0,len=ref.length;i<len;i++)if(operator=ref[i],2===(split=value.split(operator)).length){value=split[0],operand=split[1];break}try{return elementHeight=document.querySelector(value).clientHeight,operand?eval(elementHeight+operator+operand):elementHeight}catch(e){return null}},ScrollAppear.prototype.onScroll=function(){if(!this.ticking)return this.requestTick()},ScrollAppear.prototype.requestTick=function(){return requestAnimationFrame(this.update),this.ticking=!0},ScrollAppear.prototype.update=function(){var e,t,l,r;for(this.scrollY=window.pageYOffset,r=this.elements,t=0,l=r.length;t<l;t++)e=r[t],this.toggleAppearClass(e);return this.ticking=!1},ScrollAppear.prototype.toggleAppearClass=function(e){return this.scrollY>=e.offset?e.node.classList.remove(e.toggleClass):e.node.classList.add(e.toggleClass)},ScrollAppear}(),"undefined"!=typeof module&&(module.exports=this.ScrollAppear)}).call(this);